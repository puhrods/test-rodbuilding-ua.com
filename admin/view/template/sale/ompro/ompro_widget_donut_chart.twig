<div omprowidget="donut_chart" style="width: 100%; height: 100%;"></div>
<!-- flot -->
<script type="text/javascript" src="view/javascript/ompro/AdminLTE/flot/jquery.flot.js"></script>
<!--
<script type="text/javascript" src="view/javascript/ompro/AdminLTE/flot/jquery.flot.resize.js"></script>
 -->
<script type="text/javascript" src="view/javascript/ompro/AdminLTE/flot/jquery.flot.pie.js"></script>

<script type="text/javascript"><!--
// https://rawgit.com/flot/flot/master/examples/series-pie/index.html
var donutData = JSON.parse('{{ donutData }}');
$.plot('[omprowidget="donut_chart"]', donutData, {
	series: {
		pie: {
			show: true,
			radius: 0.9,
			innerRadius: 0, // 0-1
			tilt: 0.5,
			stroke: {
				color: '#d3d3d3',
				width: 1
			},
			label: {
				show: true,
				radius: 2 / 3,
				formatter: function (label, series) {
					return '<div style="text-align:center; color: '+series.bgcolor+'; ">'+ label + ' <br><span style="font-size:22px; font-weight: bold; margin-left: 5px;">'+ Math.round(series.percent)  + '%</span></div>'
				},
				threshold: 0.1
			}
		}
	},

	legend: {
		show: true,
		labelFormatter: function (label, series) {
			return '<span style="font-size:14px; margin-left: 5px; color: '+series.bgcolor+'; "">'+ label + '</span>'+'<span class="badge" style="float: right; font-size:14px; color: '+series.bgcolor+'; background-color: '+series.color+' ; margin-left: 5px;">'+series.data[0][1]+'</span>';
		}
	},
    grid: { hoverable: true }
});
//--></script>
